# Домашнее задание к занятию 17 «Инцидент-менеджмент»

## Основная часть

Составьте постмортем на основе реального сбоя системы GitHub в 2018 году.

Информация о сбое: 

* [в виде краткой выжимки на русском языке](https://habr.com/ru/post/427301/);
* [развёрнуто на английском языке](https://github.blog/2018-10-30-oct21-post-incident-analysis/).

## Постмортем
 
|||
|---|----|
|Краткое описание инцидента|В 22:52 UTC 21.10.18 обнаружено частичное нарушение функционала сервиса GitHub.com.|
|Причина инцидента| В 22:52 UTC 21.10.18 проводились плановые технические работы по замене коммутационного оборудования - это привело к потери связи между сервисами, в последствии вызволо сбой базы данных.|
|Воздействие|Не работает создание Issue и записи комментариев, визуально отображаются а после перезагрузки — пропадают|
|Обнаружение|В 22:54 UTC 21.10.18 внутренние системы мониторинга начали генерировать предупреждения, указывающие на то, что в системах наблюдались многочисленные сбои.|
|Реакция| Команда реагирования присвоила инценденту "желтый статус" и сообщили координатору по инценденту. Он изменил статус инцендентал на "красный", так же были подключени к инцеденту специалисты по БД.|
|Восстановление| Наш план состоял в том, чтобы восстановить данные из резервных копий, синхронизировать реплики на двух плащадках, вернуться к стабильной топологии обслуживания, а затем возобновить обработку заданий, поставленных в очередь|
|Таймлайн|22:52 UTC 21.10.18 после восстановления связи была нарушена консистенция данных БД.<br> 22:54 UTC 21.10.18 система мониторинга начала оповещать инженеров о многочисленных ошибках. <br> 23:07 UTC 21.10.18 Команда решила вручную заблокировать внутренний инструмент развертывания, чтобы предотвратить внесение каких-либо дополнительных изменений. <br> 23:13 UTC 21.10.18 Были вызваны дополнительные инженеры из группы разработки баз данных GitHub. <br> 23:19 UTC 21.10.18 Приостановка доставки webhook и сборки GitHub. <br> 00:05 UTC 22.10.18 Разработка плана по устранения несоответствий данных и внедрения процедуры отработки отказа для MySQL. <br> 00:41 UTC 22.10.18 Был запущен процесс резервного копирования для всех затронутых кластеров MySQL. <br> 06:51 UTC 22.10.18 Несколько кластеров завершили восстановление из резервных копий в центре обработки данных на восточном побережье США и начали репликацию новых данных с западного побережья. <br> 07:46 UTC 22.10.18 GitHub опубликовал сообщение в блоге чтобы предоставить больше контекста. <br> 11:12 UTC 22.10.18 Все первичные базы данных снова были установлены на Восточном побережье. <br> 13:15 UTC 22.10.18 Стали приближаться к пиковой нагрузке трафика на GitHub.com. <br> 16:24 UTC 22.10.18 Реплики были синхронизированы, инжененры выполнили переход на исходную топологию, решив непосредственные проблемы с задержкой / доступностью. <br> 16:45 UTC 22.10.18 Нужна балансировка возросшей нагрузки на сервис, было принято увелечить временно "время жизни" запросов в очереди. <br> 23:03 UTC 22.10.18 Все сервисы были восстановленны и работосбособность всех систем подверждены. Изменен статус инцендента на "зеленый".|
|Последующие действия| 1. Настройка конфигурацию Orchestrator, чтобы предотвратить движение основных баз данных через региональные границы. <br> 2. Ускорить переход на новый механизм отчетов о состоянии, который предоставит более богатую площадку для обсуждения активных инцидентов, более четким и понятным языком. <br> 3. Поддержка обслуживания трафика GitHub из нескольких центров обработки данных по схеме все "активные". <br> 4. Занять более активную позицию в проверке предположений|

### Как оформить решение задания

Выполненное домашнее задание пришлите в виде ссылки на .md-файл в вашем репозитории.

---
